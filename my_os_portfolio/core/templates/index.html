<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ritun OS Ultimate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <style>
        [x-cloak] { display: none !important; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.02); }
        ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.15); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.3); }
        .glass { background: rgba(15, 23, 42, 0.65); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.08); box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .window-node { position: fixed; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); will-change: transform, top, left, width, height; display: flex; flex-direction: column; }
        .is-maximized { top: 28px !important; left: 0 !important; width: 100vw !important; height: calc(100vh - 28px) !important; border-radius: 0 !important; z-index: 60 !important; }
        .is-minimized { opacity: 0; transform: scale(0.7) translateY(300px); pointer-events: none; }
        .cursor-blink { animation: blink 1s step-end infinite; }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="bg-black h-screen w-screen overflow-hidden select-none font-sans text-white"
      x-data="osData()" x-init="initOS()">

    <div x-show="bootOpen" class="absolute inset-0 z-[100] bg-black p-10 font-mono text-sm text-green-400 overflow-hidden flex flex-col justify-end pb-20">
        <template x-for="line in bootLog"><div class="mb-1"><span class="text-blue-400">[ OK ]</span> <span x-text="line"></span></div></template>
        <div class="mt-2" x-show="bootLog.length > 0"><span class="text-white">root@ritun-os:~$</span> <span class="cursor-blink">_</span></div>
    </div>

    <div class="absolute inset-0 z-0 bg-cover bg-center transition-transform duration-[2000ms]"
         :class="{'scale-105 blur-0': !bootOpen, 'scale-110 blur-md': bootOpen}"
         style="background-image: url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop');">
        <div class="absolute inset-0 bg-black/40"></div>
    </div>

    <div x-show="!bootOpen" class="fixed top-0 left-0 right-0 h-7 glass z-50 flex items-center justify-between px-4 text-xs font-medium text-gray-200">
        <div class="flex items-center space-x-4"><span class="font-bold hover:text-white cursor-pointer">Activities</span><span class="hover:text-white cursor-pointer">Applications</span></div>
        <div class="absolute left-1/2 -translate-x-1/2 font-mono" x-text="time"></div>
        <div class="flex items-center space-x-3"><div class="flex items-center space-x-2"><span class="text-green-400">‚óè</span> <span>Online</span></div><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg></div>
    </div>

    <div x-show="!bootOpen" x-transition:enter="transition ease-out duration-1000 delay-500" x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100" class="absolute top-12 left-6 flex flex-col gap-6 z-10">
         <template x-for="app in dockApps">
            <div @click="openWindow(app.id)" class="group flex flex-col items-center cursor-pointer w-24 transition active:scale-95">
                <div class="w-14 h-14 rounded-2xl bg-white/5 backdrop-blur-sm border border-white/10 flex items-center justify-center group-hover:bg-white/10 transition-all shadow-lg">
                    <svg class="w-7 h-7 text-white/80" :class="app.textColor" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-html="app.icon"></svg>
                </div>
                <span class="text-xs mt-2 text-center text-shadow font-medium text-gray-200 group-hover:text-white" x-text="app.name"></span>
            </div>
         </template>
    </div>

    <div x-show="startMenuOpen" x-transition.opacity.duration.200ms @click.outside="startMenuOpen = false" class="fixed bottom-24 left-1/2 -translate-x-1/2 w-[600px] h-[400px] glass rounded-2xl z-50 flex flex-col p-6">
        <div class="relative mb-6">
            <svg class="w-5 h-5 absolute left-3 top-2.5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <input type="text" placeholder="Search apps..." class="w-full bg-white/10 border border-white/10 rounded-xl py-2 pl-10 pr-4 text-white placeholder-gray-400 focus:outline-none focus:bg-white/20 transition">
        </div>
        <div class="flex-1 grid grid-cols-6 gap-4 content-start">
            <template x-for="app in dockApps">
                <div @click="openWindow(app.id); startMenuOpen = false" class="flex flex-col items-center cursor-pointer group hover:bg-white/5 p-2 rounded-xl transition">
                    <div class="w-10 h-10 rounded-lg flex items-center justify-center shadow-lg border border-white/5 mb-2" :class="app.color"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-html="app.icon"></svg></div>
                    <span class="text-[10px] text-gray-300 group-hover:text-white" x-text="app.name"></span>
                </div>
            </template>
            <div class="flex flex-col items-center cursor-pointer group hover:bg-white/5 p-2 rounded-xl transition opacity-50"><div class="w-10 h-10 rounded-lg bg-orange-500 flex items-center justify-center shadow-lg mb-2"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></div><span class="text-[10px] text-gray-300">Music</span></div>
        </div>
        <div class="flex justify-between items-center pt-4 border-t border-white/10">
            <div class="flex items-center space-x-3"><img src="https://ui-avatars.com/api/?name=Ritun+Jain&background=0D8ABC&color=fff&size=128" class="w-8 h-8 rounded-full border border-white/20"><span class="text-sm font-bold">Ritun Jain</span></div>
            <button class="p-2 hover:bg-white/10 rounded-lg transition" title="Power Off" @click="location.reload()"><svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></button>
        </div>
    </div>

    <div x-show="!bootOpen" x-transition:enter="transition ease-out duration-1000 delay-700" x-transition:enter-start="opacity-0 translate-y-20" x-transition:enter-end="opacity-100 translate-y-0" class="fixed bottom-4 left-1/2 -translate-x-1/2 h-16 px-4 glass rounded-2xl flex items-center space-x-3 z-50">
         <div @click="toggleStartMenu()" class="w-10 h-10 rounded-lg hover:bg-white/10 flex items-center justify-center transition cursor-pointer active:scale-90 group" :class="{'bg-white/20': startMenuOpen, 'bg-white/5': !startMenuOpen}">
             <svg class="w-6 h-6 text-white group-hover:text-blue-400 transition" fill="currentColor" viewBox="0 0 24 24"><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/></svg>
         </div>
         <div class="w-[1px] h-8 bg-white/10 mx-2"></div>
         <template x-for="app in dockApps">
            <div @click="openWindow(app.id)" class="relative group cursor-pointer transition hover:-translate-y-2 active:scale-90">
                <div class="w-10 h-10 rounded-lg flex items-center justify-center shadow-lg border border-white/5" :class="app.color"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" x-html="app.icon"></svg></div>
                <div x-show="windows[app.id].open" class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 bg-white rounded-full"></div>
                <div class="absolute -top-10 left-1/2 -translate-x-1/2 bg-slate-800 text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap" x-text="app.name"></div>
            </div>
         </template>
    </div>

    <div id="win-about" x-show="windows.about.open" x-cloak @mousedown="focusWindow('about')" :class="{'z-50': focused === 'about', 'z-40': focused !== 'about', 'is-minimized': windows.about.min, 'is-maximized': windows.about.max}" class="window-node glass rounded-xl overflow-hidden top-[20%] left-[35%] w-[350px]">
         <div class="window-header bg-white/5 border-b border-white/5 px-4 py-3 flex justify-between items-center cursor-default select-none">
            <div class="flex space-x-2"><div @click.stop="windows.about.open = false" class="w-3 h-3 bg-red-500 rounded-full cursor-pointer hover:bg-red-600"></div><div @click.stop="windows.about.min = true" class="w-3 h-3 bg-yellow-500 rounded-full cursor-pointer hover:bg-yellow-600"></div><div @click.stop="windows.about.max = !windows.about.max" class="w-3 h-3 bg-green-500 rounded-full cursor-pointer hover:bg-green-600"></div></div>
            <span class="text-[10px] font-mono text-slate-400">system_profile</span><div class="w-8"></div>
         </div>
         <div class="flex-1 p-8 flex flex-col items-center justify-center bg-slate-900/80 text-white min-h-[300px]">
            <img src="https://ui-avatars.com/api/?name=Ritun+Jain&background=0D8ABC&color=fff&size=128" class="relative w-28 h-28 rounded-full border-2 border-white/20 object-cover shadow-xl mb-4">
            <h3 class="font-bold text-xl tracking-wide">Ritun Jain</h3>
            <p class="text-xs font-mono text-blue-400 mt-1 uppercase tracking-wider">Full Stack Architect</p>
         </div>
    </div>

    <div id="win-browser" x-show="windows.browser.open" x-cloak @mousedown="focusWindow('browser')" :class="{'z-50': focused === 'browser', 'z-40': focused !== 'browser', 'is-minimized': windows.browser.min, 'is-maximized': windows.browser.max}" class="window-node glass rounded-xl overflow-hidden top-[15%] left-[20%] w-[900px] h-[600px]">
         <div class="window-header bg-slate-900 border-b border-white/5 p-3 flex items-center space-x-4 cursor-default select-none">
            <div class="flex space-x-2 shrink-0"><div @click.stop="windows.browser.open = false" class="w-3 h-3 bg-red-500 rounded-full cursor-pointer hover:bg-red-600"></div><div @click.stop="windows.browser.min = true" class="w-3 h-3 bg-yellow-500 rounded-full cursor-pointer hover:bg-yellow-600"></div><div @click.stop="windows.browser.max = !windows.browser.max" class="w-3 h-3 bg-green-500 rounded-full cursor-pointer hover:bg-green-600"></div></div>
            <div class="flex-1 bg-slate-800 rounded px-3 py-1.5 text-xs text-slate-400 flex items-center font-mono overflow-hidden">https://connect.ritun.dev/socials</div>
         </div>
         <div class="flex-1 bg-slate-900/90 p-10 flex flex-col items-center justify-center text-center overflow-auto">
            <h1 class="text-4xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">Social Hub</h1>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 w-full max-w-5xl px-4 mt-8">
                 <a href="https://linkedin.com" target="_blank" class="p-6 bg-slate-800/50 rounded-xl hover:bg-[#0077b5] transition group border border-white/5"><div class="text-white font-bold mb-2">LinkedIn</div></a>
                 <a href="https://github.com" target="_blank" class="p-6 bg-slate-800/50 rounded-xl hover:bg-black transition group border border-white/5"><div class="text-white font-bold mb-2">GitHub</div></a>
                 <div class="p-6 bg-slate-800/50 rounded-xl hover:bg-[#5865F2] transition cursor-pointer border border-white/5"><div class="text-white font-bold mb-2">Discord</div></div>
                 <a href="https://instagram.com" target="_blank" class="p-6 bg-slate-800/50 rounded-xl hover:bg-pink-600 transition group border border-white/5"><div class="text-white font-bold mb-2">Instagram</div></a>
            </div>
         </div>
    </div>

    <div id="win-ai" x-show="windows.ai.open" x-cloak @mousedown="focusWindow('ai')" :class="{'z-50': focused === 'ai', 'z-40': focused !== 'ai', 'is-minimized': windows.ai.min, 'is-maximized': windows.ai.max}" class="window-node glass rounded-xl overflow-hidden top-[20%] left-[30%] w-[500px] h-[600px]">
         <div class="window-header bg-slate-900 border-b border-white/5 px-4 py-3 flex justify-between items-center cursor-default select-none">
            <div class="flex space-x-2"><div @click.stop="windows.ai.open = false" class="w-3 h-3 bg-red-500 rounded-full cursor-pointer hover:bg-red-600"></div><div @click.stop="windows.ai.min = true" class="w-3 h-3 bg-yellow-500 rounded-full cursor-pointer hover:bg-yellow-600"></div><div @click.stop="windows.ai.max = !windows.ai.max" class="w-3 h-3 bg-green-500 rounded-full cursor-pointer hover:bg-green-600"></div></div>
            <span class="text-xs font-bold text-white">RitunBot AI</span><div class="w-8"></div>
         </div>
         <div class="flex-1 bg-slate-900/95 flex flex-col p-4">
             <div class="flex-1 overflow-auto space-y-4 mb-4" id="ai-chat">
                 <template x-for="msg in ai.history"><div :class="msg.sender === 'user' ? 'text-right' : 'text-left'"><div :class="msg.sender === 'user' ? 'bg-blue-600 text-white rounded-br-none' : 'bg-slate-700 text-gray-200 rounded-bl-none'" class="inline-block px-4 py-2 rounded-2xl text-sm max-w-[80%]" x-html="msg.text"></div></div></template>
                 <div x-show="ai.typing" class="text-left"><div class="inline-block px-4 py-2 bg-slate-700 rounded-2xl text-sm text-gray-400">Typing...</div></div>
             </div>
             <div class="flex gap-2"><input type="text" x-model="ai.input" @keydown.enter="ai.send()" placeholder="Ask me anything..." class="flex-1 bg-slate-800 border border-white/10 rounded-full px-4 py-2 text-sm text-white focus:outline-none focus:border-blue-500 transition"><button @click="ai.send()" class="bg-blue-600 text-white rounded-full p-2 hover:bg-blue-500"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></button></div>
         </div>
    </div>

    <div id="win-terminal" x-show="windows.terminal.open" x-cloak @mousedown="focusWindow('terminal')" :class="{'z-50': focused === 'terminal', 'z-40': focused !== 'terminal', 'is-minimized': windows.terminal.min, 'is-maximized': windows.terminal.max}" class="window-node bg-slate-900/95 rounded-xl overflow-hidden shadow-2xl border border-slate-700 font-mono text-sm top-[25%] left-[25%] w-[600px] h-[400px]">
         <div class="window-header bg-slate-800 px-4 py-2 flex items-center space-x-2 cursor-default select-none">
             <div @click.stop="windows.terminal.open = false" class="w-3 h-3 bg-red-500 rounded-full cursor-pointer"></div><div @click.stop="windows.terminal.min = true" class="w-3 h-3 bg-yellow-500 rounded-full cursor-pointer"></div><div @click.stop="windows.terminal.max = !windows.terminal.max" class="w-3 h-3 bg-green-500 rounded-full cursor-pointer"></div>
             <span class="text-slate-400 text-xs ml-4">user@ritun-os:~</span>
         </div>
         <div id="term-content" class="p-4 flex-1 overflow-auto" @click="document.getElementById('term-input').focus()">
             <template x-for="line in term.history"><div class="mb-1"><span x-show="line.type === 'input'" class="text-blue-400 mr-2 font-bold">user@ritun-os:~$</span><span :class="line.type === 'input' ? 'text-white' : 'text-green-400'" x-text="line.text"></span></div></template>
             <div class="flex items-center"><span class="text-blue-400 mr-2 font-bold whitespace-nowrap">user@ritun-os:~$</span><input id="term-input" type="text" x-model="term.input" @keydown.enter="term.handle($data)" autocomplete="off" class="bg-transparent border-none outline-none text-white w-full p-0 m-0 font-inherit caret-white"></div>
         </div>
    </div>

    <div id="win-vscode" x-show="windows.vscode.open" x-cloak @mousedown="focusWindow('vscode')" :class="{'z-50': focused === 'vscode', 'z-40': focused !== 'vscode', 'is-minimized': windows.vscode.min, 'is-maximized': windows.vscode.max}" class="window-node bg-[#1e1e1e] rounded-xl overflow-hidden shadow-2xl border border-black/50 top-[10%] left-[10%] w-[800px] h-[550px]">
         <div class="window-header bg-[#333333] px-4 py-2 flex items-center justify-between cursor-default select-none">
             <div class="flex space-x-2"><div @click.stop="windows.vscode.open = false" class="w-3 h-3 bg-red-500 rounded-full cursor-pointer"></div><div @click.stop="windows.vscode.min = true" class="w-3 h-3 bg-yellow-500 rounded-full cursor-pointer"></div><div @click.stop="windows.vscode.max = !windows.vscode.max" class="w-3 h-3 bg-green-500 rounded-full cursor-pointer"></div></div>
             <span class="text-slate-400 text-xs">README.md - Visual Studio Code</span><div class="w-10"></div>
         </div>
         <div class="flex flex-1 overflow-hidden">
             <div class="w-12 bg-[#252526] border-r border-[#333]"></div>
             <div class="flex-1 bg-[#1e1e1e] p-6 font-sans text-sm text-gray-300 overflow-auto">
                 <h1 class="text-2xl font-bold text-blue-400 mb-4"># Ritun OS v3.0</h1>
                 <p class="mb-4">Now updated with AI capabilities and Linux kernel simulation.</p>
             </div>
         </div>
    </div>

    <script>
        function osData() {
            return {
                bootOpen: true, bootLog: [],
                startMenuOpen: false, focused: 'none', time: '00:00',
                
                dockApps: [
                    { id: 'about', name: 'Profile', icon: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>', color: 'bg-blue-600', textColor: 'text-blue-300' },
                    { id: 'browser', name: 'Browser', icon: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>', color: 'bg-purple-600', textColor: 'text-purple-300' },
                    { id: 'terminal', name: 'Terminal', icon: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 17l6-6-6-6m8 14h8"></path>', color: 'bg-slate-800', textColor: 'text-green-400' },
                    { id: 'vscode', name: 'Code', icon: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>', color: 'bg-blue-500', textColor: 'text-blue-400' },
                    { id: 'ai', name: 'RitunBot', icon: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path>', color: 'bg-emerald-600', textColor: 'text-white' }
                ],
                windows: { 
                    about: {open:false,min:false,max:false}, browser: {open:false,min:false,max:false}, 
                    terminal: {open:false,min:false,max:false}, vscode: {open:false,min:false,max:false},
                    ai: {open:false,min:false,max:false}
                },

                toggleStartMenu() {
                    this.playClick();
                    this.startMenuOpen = !this.startMenuOpen;
                },

                playClick() {
                    const ctx = new (window.AudioContext || window.webkitAudioContext)();
                    const osc = ctx.createOscillator(); const gain = ctx.createGain();
                    osc.connect(gain); gain.connect(ctx.destination);
                    osc.type = 'sine'; osc.frequency.setValueAtTime(800, ctx.currentTime);
                    gain.gain.setValueAtTime(0.05, ctx.currentTime); gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.1);
                    osc.start(); osc.stop(ctx.currentTime + 0.1);
                },

                ai: {
                    input: '', typing: false,
                    history: [{ sender: 'bot', text: 'Hello! I am RitunBot v1.0. Ask me anything!' }],
                    send() {
                        if(!this.input.trim()) return;
                        this.history.push({ sender: 'user', text: this.input });
                        const q = this.input.toLowerCase();
                        this.input = ''; this.typing = true;
                        setTimeout(() => {
                            let reply = "I'm not sure about that, but I can tell you Ritun is a great developer!";
                            if(q.includes('hello') || q.includes('hi')) reply = "Hi there! How can I help?";
                            this.history.push({ sender: 'bot', text: reply });
                            this.typing = false;
                            this.$nextTick(() => document.getElementById('ai-chat').scrollTop = 9999);
                        }, 1000);
                    }
                },

                term: {
                    input: '',
                    history: [{ type: 'output', text: 'Ritun OS Kernel v3.0 loaded...' }, { type: 'output', text: 'Type "help" for commands.' }],
                    handle(os) {
                        const cmd = this.input.trim().toLowerCase();
                        if(cmd) this.history.push({ type: 'input', text: this.input });
                        if(cmd === 'help') this.output('Commands: about, socials, code, ai, clear');
                        else if(cmd === 'clear') this.history = [];
                        else if(cmd === 'ai') os.openWindow('ai');
                        else if(cmd === 'about') os.openWindow('about');
                        else if(cmd === 'socials') os.openWindow('browser');
                        else this.output('Command not found.');
                        this.input = '';
                        setTimeout(() => document.getElementById('term-content').scrollTop = 9999, 10);
                    },
                    output(t) { this.history.push({ type: 'output', text: t }); }
                },

                initOS() {
                    setInterval(() => { this.time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }); }, 1000);
                    const logs = ["Initializing Ritun Kernel v3.0...", "Loading modules...", "Mounting /dev/sda1...", "System Ready"];
                    let i = 0;
                    const interval = setInterval(() => { if(i < logs.length) { this.bootLog.push(logs[i]); i++; } else { clearInterval(interval); setTimeout(() => this.bootOpen = false, 500); } }, 400);
                    this.enableDragging();
                },

                openWindow(key) { this.playClick(); this.windows[key].open = true; this.windows[key].min = false; this.focused = key; },
                focusWindow(key) { this.focused = key; },
                enableDragging() {
                    let isDragging = false, currentWindow = null, offsetX = 0, offsetY = 0;
                    document.addEventListener('mousedown', (e) => {
                        const header = e.target.closest('.window-header');
                        if (header && !e.target.closest('.rounded-full')) {
                            const win = header.closest('.window-node');
                            if (win && !win.classList.contains('is-maximized')) {
                                isDragging = true; currentWindow = win; currentWindow.style.transition = 'none';
                                const rect = win.getBoundingClientRect(); offsetX = e.clientX - rect.left; offsetY = e.clientY - rect.top;
                                this.focusWindow(win.id.replace('win-', ''));
                            }
                        }
                    });
                    document.addEventListener('mousemove', (e) => { if (isDragging && currentWindow) { e.preventDefault(); currentWindow.style.left = `${e.clientX - offsetX}px`; currentWindow.style.top = `${e.clientY - offsetY}px`; } });
                    document.addEventListener('mouseup', () => { if (isDragging && currentWindow) currentWindow.style.transition = ''; isDragging = false; currentWindow = null; });
                }
            }
        }
    </script>
</body>
</html>
